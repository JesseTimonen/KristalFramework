RewriteEngine On
RewriteBase /


#==========================================================================#
# Force HTTPS Connection (activate when you have htaccess for you website) #
#==========================================================================#
# RewriteCond %{HTTPS} off [OR]
# RewriteCond %{SERVER_PORT} 80
# RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]


#====================#
# Routing Controller #
#====================#
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.+)$ index.php [L]


#==================================#
# Protect Specific File extensions #
#==================================#
<FilesMatch "\.(htaccess|htpasswd|env|ini|php|sql|bak|tmp|swp|yml|yaml|json|log)$">
    Order Allow,Deny
    Deny from all
</FilesMatch>


#========================#
# Protect Specific Files #
#========================#
<FilesMatch "composer.json|composer.lock|README|LICENSE">
    Order Allow,Deny
    Deny from all
</FilesMatch>


#=============#
# Allow Files #
#=============#
<FilesMatch "index.php|robots.txt|sitemap.xml|translations.json">
    Order Allow,Deny
    Allow from all
</FilesMatch>


#===========#
# Hide .git #
#===========#
RedirectMatch 404 /\.git